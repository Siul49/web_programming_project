<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íƒ€ì„í…Œì´ë¸” í˜ì´ì§€ 1 - ë™ì </title>

  <!-- Tailwind CSSë¡œ ë¹Œë“œëœ style.css ë¶ˆëŸ¬ì˜¤ê¸° -->
  <link rel="stylesheet" href="css/style.css"/>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    input[type=range]::-webkit-slider-thumb {
      appearance: none;
      height: 30px;
      width: 30px;
      background: white;
      border: 3px solid black;
      border-radius: 8px;
      cursor: pointer;
      pointer-events: auto;
    }

    input[type=range] {
      appearance: none;
      height: 50px;
      background: transparent;
      position: absolute;
      top: 0;
      width: 100%;
      pointer-events: none;
    }

    .slider-container {
      position: relative;
      width: 600px;
      height: 50px;
      background-color: #d1d5db;
      border: 4px solid black;
      border-radius: 12px;
    }
  </style>
</head>

<body class="bg-[#FEE9CE] w-screen h-screen flex justify-center items-center">
<!-- 12ì‹œ ê¹Œì§€? -->
<!-- ìƒë‹¨ í˜ì´ì§€ ë²„íŠ¼ -->
<button onclick="location.reload();" class="absolute w-[10%] h-[10%] left-[20%] top-[8%]
  bg-[#FDE295] text-black flex justify-center py-2 border-black rounded-2xl border-[5px] ">
  â€»íƒ€ì„í…Œì´ë¸” í˜ì´ì§€
</button>
<a href="page1_static.html" class="absolute w-[8%] h-[10%] left-[32%] top-[8%]
  bg-[#dbf0ff] text-black flex justify-center py-2 border-black rounded-2xl border-[5px] ">
  â€»ì •ì ìœ¼ë¡œ ë³€í™˜
</a>

<!-- âšª ë©”ì¸ ì»¨í…Œì´ë„ˆ (ì „ì²´ ë°°ê²½ í°ìƒ‰ í‹€) -->
<div class='relative w-[65%] h-[75%] bg-white border-[5px] shadow-md border-black rounded-2xl flex justify-center items-center'>

  <!-- ğŸŸ¦ í•˜ë‹¨ ì‹œê°„ ì¡°ì ˆ ì˜ì—­ (ìŠ¬ë¼ì´ë” í¬í•¨) -->
  <div class='absolute w-[86%] h-[45%] top-[50%] left-[5%] bg-[#BBDBF4] border-[5px] shadow-md border-black rounded-2xl flex justify-center'>

    <!-- ìƒë‹¨ íƒ­ë°” (í•˜ë‹¨ ë°•ìŠ¤ ìœ„ì— í°ìƒ‰ í—¤ë”) -->
    <div class='relative w-[100%] h-[20%] top-0 p-2 bg-[#FFF] border-black  border-b-[5px] rounded-tl-xl rounded-tr-xl  flex items-center text-[20px]'>
      ì‹œì‘ ì‹œê°„ | ì¢…ë£Œ ì‹œê°„ | íŒ€ ë‹¹ ë°°ì •ë  ì‹œê°„
    </div>
    <!-- ìŠ¬ë¼ì´ë” íŠ¸ë™ -->
    <div id="sliderTrack" class="absolute w-[85%] h-[20%] bottom-[30%] bg-[#FEE9CE] border-black border-[5px] rounded-2xl -translate-y-1/2">
      <!-- ì„ íƒ ë²”ìœ„ ë°” -->
      <div id="sliderRange" class="absolute h-full bg-blue-300 opacity-60 rounded-xl z-10"></div>
      <!-- ìµœì†Œ ì»¤ì„œ -->
      <div id="sliderThumbMin" class="absolute w-[10%] h-full bg-white border-black border-[4px] rounded-xl flex items-center justify-center text-lg font-bold shadow z-20 cursor-pointer select-none -translate-y-1/2 bottom-[25%]">
        <span id="sliderMinLabel">00:00</span>
      </div>
      <!-- ìµœëŒ€ ì»¤ì„œ -->
      <div id="sliderThumbMax" class="absolute w-[10%] h-full bg-white border-black border-[4px] rounded-xl flex items-center justify-center text-lg font-bold shadow z-20 cursor-pointer select-none -translate-y-1/2 top-[100%]">
        <span id="sliderMaxLabel">24:00</span>
      </div>
    </div>


    <div class="absolute w-[40%] h-[20%] bottom-[10%] flex justify-center">
      <button id="stepDecBtn" class="relative w-[20%] h-[100%] right-[10%] bg-[#FDE295] border-black border-[5px] text-[30px] rounded-xl">
        â—€
      </button>
      <input id="stepInput" type="text" maxlength="2" value="15"
             oninput="this.value = this.value.replace(/[^0-9]/g, '')"
             class="relative w-[20%] h-[100%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[30px] text-center ">
      <button id="stepIncBtn" class="relative w-[20%] h-[100%] left-[10%] bg-[#FDE295] border-black border-[5px] text-[30px] rounded-xl">
        â–¶
      </button>
    </div>

  </div>

  <!-- ğŸŸ© ì¸ì› ì¡°ì‘ íŒ¨ë„ (ì¢Œì¸¡ ìƒë‹¨ ì˜ì—­) -->
  <div class='absolute w-[45%] h-[40%] right-[50%] bottom-[55%] bg-[#D3D594] border-[5px] shadow-md border-black rounded-2xl mt-12 z-20'>

    <!-- ìƒë‹¨ íƒ­ë°” -->
    <div class='absolute w-full h-[20%] bg-[#FFF] p-2 border-black border-b-[5px] rounded-tl-xl rounded-tr-xl z-20 flex items-center text-[20px]'>
      ì „ì²´ ì¸ì› | íŒ€ ë‹¹ ì¸ì›
    </div>

    <!-- ìœ„ìª½ ì‚¼ê° ë²„íŠ¼ë“¤ (ì¸ì› ìˆ˜ ì¦ê°€) -->
    <div class="relative w-full h-[10%] top-[25%]">
      <button class="absolute left-[12%] hover:opacity-70 digit-up-btn digitUp" data-index="4">
        <img src="../resource/uptriangle.png" alt="ì¸ì› ì¦ê°€" class="w-65 h-31">
      </button>
      <button class="absolute left-[27%] hover:opacity-70 digit-up-btn digitUp" data-index="5">
        <img src="../resource/uptriangle.png" alt="ì¸ì› ì¦ê°€" class="w-65 h-31">
      </button>
      <button class="absolute left-[42%] hover:opacity-70 digit-up-btn digitUp" data-index="6">
        <img src="../resource/uptriangle.png" alt="ì¸ì› ì¦ê°€" class="w-65 h-31">
      </button>
      <button class="absolute left-[70%] hover:opacity-70 digit-up-btn digitUp" data-index="7">
        <img src="../resource/uptriangle.png" alt="ì¸ì› ì¦ê°€" class="w-65 h-31">
      </button>
    </div>

    <!-- ì¸ì› ìˆ˜ ì…ë ¥ì°½ (ì´ ì¸ì› / íŒ€ë‹¹ ì¸ì›) -->
    <div class="relative w-full h-[30%] top-[33%]">
      <span id="digit0" class="absolute w-[12%] h-[100%] left-[10%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>
      <span id="digit1" class="absolute w-[12%] h-[100%] left-[25%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>
      <span id="digit2" class="absolute w-[12%] h-[100%] left-[40%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>

      <p class="absolute w-[10%] h-full text-[30px] right-[33%] top-[50%] " >ëª…</p>
      <span id="digit3" class="absolute w-[12%] h-[100%] left-[68%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>
      <p class="absolute w-[20%] h-full text-[30px] left-[82%] top-[50%] " >ëª…ì”©</p>
    </div>

    <!-- ì•„ë˜ìª½ ì‚¼ê° ë²„íŠ¼ë“¤ (ì¸ì› ìˆ˜ ê°ì†Œ) -->
    <div class="relative w-full h-[10%] top-[40%]">
      <button class="absolute left-[12%] hover:opacity-70 digit-down-btn digitDown" data-index="4" >
        <img src="/resource/downtriangle.png" alt="ì¸ì› ê°ì†Œ" class="w-65 h-31">
      </button>
      <button class="absolute left-[27%] hover:opacity-70 digit-down-btn digitDown" data-index="5">
        <img src="/resource/downtriangle.png" alt="ì¸ì› ê°ì†Œ" class="w-65 h-31">
      </button>
      <button class="absolute left-[42%] hover:opacity-70 digit-down-btn digitDown" data-index="6">
        <img src="/resource/downtriangle.png" alt="ì¸ì› ê°ì†Œ" class="w-65 h-31">
      </button>

      <button class="absolute left-[70%] hover:opacity-70 digit-down-btn digitDown" data-index="7">
        <img src="/resource/downtriangle.png" alt="ì¸ì› ê°ì†Œ" class="w-65 h-31">
      </button>
    </div>
  </div>

  <!-- ğŸŸª ë‚ ì§œ/ìš”ì¼ ì¡°ì‘ íŒ¨ë„ (ìš°ì¸¡ ìƒë‹¨ ì˜ì—­) -->
  <div class='absolute w-[43%] h-[35%] right-[5%] bottom-[38%] bg-[#FFC5D3] border-[5px] shadow-md border-black rounded-2xl mt-12 z-20'>

    <!-- ìƒë‹¨ íƒ­ë°” -->
    <div class='absolute w-full h-[20%] bg-[#FFF] p-2 border-black border-b-[5px] rounded-tl-xl rounded-tr-xl z-20 flex items-center text-[20px]'>
      ì‹œì‘ì¼ | ê¸°ê°„
    </div>

    <!-- ìœ„ìª½ ì‚¼ê° ë²„íŠ¼ë“¤ (ë‚ ì§œ ì¦ê°€) -->
    <div class="relative w-full h-[10%] top-[25%]">
      <button class="absolute left-[18%] hover:opacity-70 digit-up-btn digitUp" data-index="1">
        <img src="../resource/uptriangle.png" alt="ë‚ ì§œ ì¦ê°€" class="w-65 h-31">
      </button>
      <button class="absolute left-[32%] hover:opacity-70 digit-up-btn digitUp" data-index="2">
        <img src="../resource/uptriangle.png" alt="ë‚ ì§œ ì¦ê°€" class="w-65 h-31">
      </button>
      <button class="absolute left-[70%] hover:opacity-70 digit-up-btn digitUp" data-index="3">
        <img src="../resource/uptriangle.png" alt="ë‚ ì§œ ì¦ê°€" class="w-65 h-31">
      </button>
    </div>

    <!-- ë‚ ì§œ ì…ë ¥ì°½ (ë‚ ì§œ / ìš”ì¼) -->
    <div class="relative w-full h-[30%] top-[30%]">
      <span id="digit4" class="absolute w-[12%] h-[100%] left-[16%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>
      <span id="digit5" class="absolute w-[12%] h-[100%] left-[30%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center "></span>
      <p class="absolute w-[20%] h-full text-[30px] right-[33%] top-[50%] " >ì¼ë¶€í„°</p>
      <span id="digit6" class="absolute w-[12%] h-[100%] left-[68%] bg-[#FFF] border-black border-[5px] rounded-xl z-20 text-[50px] text-center"></span>
      <p class="absolute w-[20%] h-full text-[30px] left-[82%] top-[50%] " >ì¼ê°„</p>
    </div>

    <!-- ì•„ë˜ìª½ ì‚¼ê° ë²„íŠ¼ë“¤ (ë‚ ì§œ ê°ì†Œ) -->
    <div class="relative w-full h-[10%] top-[35%]">
      <button class="absolute left-[18.5%] hover:opacity-70 digit-down-btn digitDown" data-index="1">
        <img src="/resource/downtriangle.png" alt="ë‚ ì§œ ê°ì†Œ" class="w-65 h-31">
      </button>
      <button class="absolute left-[32.5%] hover:opacity-70 digit-down-btn digitDown" data-index="2">
        <img src="/resource/downtriangle.png" alt="ë‚ ì§œ ê°ì†Œ" class="w-65 h-31">
      </button>

      <button class="absolute left-[70%] hover:opacity-70 digit-down-btn digitDown" data-index="3">
        <img src="/resource/downtriangle.png" alt="ë‚ ì§œ ê°ì†Œ" class="w-65 h-31">
      </button>
    </div>
  </div>

  <!-- ğŸŸ¨ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™ ë²„íŠ¼ -->
  <a href="page2.html" class='absolute w-[30%] h-[18%] right-[5%] top-0 bg-[#FDE295] border-[5px] shadow-md border-black rounded-2xl  hover:border-[6px] mt-12 z-20 flex justify-center items-center text-[50px]'>
    â€»ë‹¤ìŒìœ¼ë¡œâ€»
  </a>

  <!-- ğŸŸ§ ì–¸ì–´ ì „í™˜ ë²„íŠ¼ / íšŒìƒ‰ ì½”ë©˜íŠ¸ ë°•ìŠ¤ -->
  <div class='absolute w-[12%] h-[10%] right-[36%] top-0 bg-[#EFCCF2] border-[5px] shadow-md border-black rounded-2xl mt-12 z-20 flex justify-center items-center'>
    ì œì‘ì ì†Œê°œ
  </div>
  <a href="page1_comment.html" class='absolute w-[12%] h-[7%] right-[36%] top-[11%] bg-[#D9D9D9] border-[5px] shadow-md rounded-2xl border-black mt-12 z-20 flex justify-center items-center'>
    ì œì‘ì ì½”ë©˜íŠ¸
  </a>

</div>
<script> // ë²„íŠ¼
  function bounceAnimation(el) {
    el.classList.add("scale-125"); // ì»¤ì§
    setTimeout(() => {
      el.classList.remove("scale-125"); // ì›ë˜ëŒ€ë¡œ
    }, 150);
  }

  const digits = [0, 0, 0, 0, 0, 0, 0]; // ì´ˆê¸°ê°’
  const digitsUpButtons = document.querySelectorAll('.digitUp');
  const digitsDownButtons = document.querySelectorAll('.digitDown');
  const digitSpans = [
    document.getElementById("digit0"),
    document.getElementById("digit1"),
    document.getElementById("digit2"),
    document.getElementById("digit3"),
    document.getElementById("digit4"),
    document.getElementById("digit5"),
    document.getElementById("digit6")
  ];

  function updateDigitsUI() {
    digits.forEach((d, i) => digitSpans[i].textContent = d);
  }

  // ë²„íŠ¼ê³¼ ì—°ê²°
  const downButtons = document.querySelectorAll(".digit-down-btn");
  downButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {
      digits[index] = (digits[index] - 1 + 10) % 10;
      bounceAnimation(digitsDownButtons[index]);
      updateDigitsUI();

      saveStateToUrl();
    });
  });

  const upButtons = document.querySelectorAll(".digit-up-btn");
  upButtons.forEach((btn, index) => {
    btn.addEventListener("click", () => {
      digits[index] = (digits[index] + 1 + 10) % 10;
      bounceAnimation(digitsUpButtons[index]);
      updateDigitsUI();

      saveStateToUrl();
    });
  });

  updateDigitsUI(); // ì´ˆê¸°í™”

</script>

<script>//url ì €ì¥

//urlì—ì„œ ê°’ ë¶ˆëŸ¬ì˜¤ê¸°
window.addEventListener('DOMContentLoaded', loadStatesFromURL);


function saveStateToUrl() {
  const digitsStr = digits.join(',');
  const params = new URLSearchParams(window.location.search);

  params.set('digits', digitsStr);
  params.set('sliderMin', currentMin);
  params.set('sliderMax', currentMax);
  const newURL = `${window.location.pathname}?${params.toString()}`;
  window.history.replaceState({}, '', newURL);
}



function loadStatesFromURL() {
  const params = new URLSearchParams(window.location.search);
  const digitsStr = params.get('digits');
  const minParam = parseInt(params.get('sliderMin'), 10);
  const maxParam = parseInt(params.get('sliderMax'), 10);
  if (digitsStr) {
    const arr = digitsStr.split(',').map(x => parseInt(x, 10));
    if (arr.length === digits.length && arr.every(x => !isNaN(x))) {
      arr.forEach((v, i) => digits[i] = v);
      updateDigitsUI();
    }
  }
  if (!isNaN(minParam)) currentMin = minParam;
  if (!isNaN(maxParam)) currentMax = maxParam;
}


</script>

<script> // ìŠ¬ë¼ì´ë”
         // ìŠ¬ë¼ì´ë” ì„¤ì •
const minTime = 0;    // 00:00 (ë¶„ ë‹¨ìœ„)
const maxTime = 24 * 60; // 24:00 (ë¶„ ë‹¨ìœ„)
function pxToValue(px) {
  let v = Math.round((px / trackWidth) * (maxTime - minTime) / step) * step + minTime;
  v = Math.max(minTime, Math.min(v, maxTime));
  return v;
}           // 30ë¶„ ë‹¨ìœ„
const track = document.getElementById("sliderTrack");
const sliderRange = document.getElementById("sliderRange");
const thumbMin = document.getElementById("sliderThumbMin");
const thumbMax = document.getElementById("sliderThumbMax");
const labelMin = document.getElementById("sliderMinLabel");
const labelMax = document.getElementById("sliderMaxLabel");

let currentMin = minTime;
let currentMax = maxTime;

let trackWidth = 0;



window.addEventListener('DOMContentLoaded', () => {
  trackWidth = track.offsetWidth;
  loadStatesFromURL(); // URLì—ì„œ currentMin, currentMaxë¥¼ ë¶ˆëŸ¬ì˜´
  updateSliderUI();    // trackWidth, currentMin, currentMax ëª¨ë‘ ì¤€ë¹„ëœ ë’¤ ì»¤ì„œ ìœ„ì¹˜ ê°±ì‹ 

});

function timeToStr(mins) {
  const h = String(Math.floor(mins / 60)).padStart(2, "0");
  const m = String(mins % 60).padStart(2, "0");
  return `${h}:${m}`;
}

function valueToPx(val) {
  return ((val - minTime) / (maxTime - minTime)) * trackWidth;
}

function pxToValue(px) {
  let v = Math.round((px / trackWidth) * (maxTime - minTime) / step) * step + minTime;
  v = Math.max(minTime, Math.min(v, maxTime));
  return v;
}

function updateSliderUI() {
  const minPx = valueToPx(currentMin);
  const maxPx = valueToPx(currentMax);

  // ì»¤ì„œ width(px) êµ¬í•˜ê¸° (Tailwindë¡œ w-[10%] ë“± ì‚¬ìš© ì‹œ ì‹¤ì œ pxë¡œ ë³€í™˜)
  const thumbWidth = thumbMin.offsetWidth; // ë˜ëŠ” thumbMax.offsetWidth

  // ì»¤ì„œì˜ ì¤‘ì‹¬ì´ íŠ¸ë™ ëì— ì˜¤ë„ë¡ ë³´ì •
  thumbMin.style.left = `${minPx - thumbWidth / 2}px`;
  thumbMax.style.left = `${maxPx - thumbWidth / 2}px`;

  sliderRange.style.left = `${minPx}px`;
  sliderRange.style.width = `${maxPx - minPx - 9}px`;

  labelMin.textContent = timeToStr(currentMin);
  labelMax.textContent = timeToStr(currentMax);


}


let dragging = null;

function onDrag(e, type) {
  dragging = type;
  document.body.style.userSelect = "none";

}

function onMove(e) {
  if (!dragging) return;
  const rect = track.getBoundingClientRect();
  const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
  let val = pxToValue(x);

  if (dragging === "min") {
    currentMin = Math.min(val, currentMax - step);
  } else if (dragging === "max") {
    currentMax = Math.max(val, currentMin + step);
  }
  updateSliderUI();
  saveStateToUrl();
}

function onUp() {
  dragging = null;
  document.body.style.userSelect = "";
}

thumbMin.addEventListener("mousedown", e => onDrag(e, "min"));
thumbMax.addEventListener("mousedown", e => onDrag(e, "max"));
thumbMin.addEventListener("touchstart", e => onDrag(e, "min"));
thumbMax.addEventListener("touchstart", e => onDrag(e, "max"));

document.addEventListener("mousemove", onMove);
document.addEventListener("touchmove", onMove);
document.addEventListener("mouseup", onUp);
document.addEventListener("touchend", onUp);

window.addEventListener("resize", () => {
  // trackWidthê°€ ë³€í•  ìˆ˜ ìˆìœ¼ë‹ˆ ë‹¤ì‹œ ê³„ì‚°
  updateSliderUI();
});

updateSliderUI();

<!--ìŠ¬ë¼ì´ë” ì»¤ì„œ ê°„ê²© ì¡°ì ˆ ë²„íŠ¼-->
// 1. DOM ìš”ì†Œ ì°¸ì¡°
const stepInput = document.getElementById('stepInput');
const stepDecBtn = document.getElementById('stepDecBtn');
const stepIncBtn = document.getElementById('stepIncBtn');

// 2. step ê°’ ì œí•œ ë²”ìœ„
const STEP_MIN = 5;
const STEP_MAX = 60;

// 3. ì…ë ¥ì°½ ê°’ìœ¼ë¡œ step ë™ê¸°í™” í•¨ìˆ˜
function getStepValue() {
  let val = parseInt(stepInput.value, 10);
  if (isNaN(val) || val < STEP_MIN) val = STEP_MIN;
  if (val > STEP_MAX) val = STEP_MAX;
  stepInput.value = val;
  return val;
}

// 4. ë²„íŠ¼ ì´ë²¤íŠ¸
stepDecBtn.addEventListener('click', () => {
  let val = getStepValue();
  val = Math.max(STEP_MIN, val - 5);
  stepInput.value = val;
  updateStep(val);
});

stepIncBtn.addEventListener('click', () => {
  let val = getStepValue();
  val = Math.min(STEP_MAX, val + 5);
  stepInput.value = val;
  updateStep(val);
});

// 5. ì…ë ¥ ì§ì ‘ ìˆ˜ì • ì‹œì—ë„ ë°˜ì˜
stepInput.addEventListener('change', () => {
  let val = getStepValue();
  updateStep(val);
});

// 6. ìŠ¬ë¼ì´ë”ì— step ì ìš© (ìŠ¬ë¼ì´ë” ì½”ë“œì™€ ì—°ë™ í•„ìš”)
let step = getStepValue();

function updateStep(newStep) {
  step = newStep;
  // ìŠ¬ë¼ì´ë”ì—ì„œ step ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì ìš©
  // ì˜ˆ: pxToValue, valueToPx ë“±ì—ì„œ step ì‚¬ìš©
  // ì˜ˆì‹œ: pxToValue(px) { ... / step) * step ... }
  // updateSliderUI() ë“± í˜¸ì¶œ
}





</script>
</body>
</html>
